{
  "family": "airflow-story-builder-task",
  "executionRoleArn": "arn:aws:iam::177788415680:role/ecsTaskExecutionRole",
  "networkMode": "awsvpc",
  "requiresCompatibilities": ["FARGATE"],
  "cpu": "1024",
  "memory": "3072",
  "containerDefinitions": [
        {
            "name": "story-builder-manager",
            "image": "{{ image }}",
            "cpu": 0,
            "portMappings": [],
            "essential": true,
            "secrets": [
            {
              "name": "ANALYSIS_MANAGER_SERVER_HOST",
              "valueFrom": "arn:aws:ssm:${{ secrets.AWS_REGION }}:${{ secrets.AWS_ACCOUNT_ID }}:parameter/story-builder/workflow/ANALYSIS_MANAGER_SERVER_HOST"
            }
            ],
            "environment": [],
            "logConfiguration": {
                "logDriver": "awslogs",
                "options": {
                    "awslogs-group": "/ecs/airflow-story-builder-task",
                    "mode": "non-blocking",
                    "awslogs-create-group": "true",
                    "max-buffer-size": "25m",
                    "awslogs-region": "us-west-1",
                    "awslogs-stream-prefix": "ecs"
                },
                "secretOptions": []
            },
            "systemControls": []
        }
    ]
}
